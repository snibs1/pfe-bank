<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NB Bank IA | Intelligence Center</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>
<body>

    <div class="sidebar">
        <h3><i class="fas fa-bolt-lightning me-2"></i> NB BANK IA</h3>
        <nav class="nav flex-column mt-4">
            <a href="{{ url_for('dashboard') }}" class="nav-link {% if request.endpoint == 'dashboard' %}active{% endif %}">
                <i class="fas fa-layer-group"></i> Overview
            </a>
            <a href="{{ url_for('simulation') }}" class="nav-link {% if request.endpoint == 'simulation' %}active{% endif %}">
                <i class="fas fa-microchip"></i> AI Simulation
            </a>
            <a href="{{ url_for('requests_list') }}" class="nav-link">
                <i class="fas fa-address-book"></i> Base Clients
            </a>
            <a href="#" class="nav-link"><i class="fas fa-chart-line"></i> Analytics</a>
            <a href="#" class="nav-link"><i class="fas fa-shield-halved"></i> Security</a>
            
            <div class="logout-section">
                <a href="/" class="nav-link text-danger">
                    <i class="fas fa-power-off"></i> Déconnexion
                </a>
            </div>
        </nav>
    </div>

    <div class="main-content">
        {% block content %}
<div class="header-section mb-5 d-flex justify-content-between align-items-center">
    <div>
        <h2 class="m-0">Risk Intelligence Center</h2>
        <p class="text-dim">Surveillance des vecteurs de risque IA en temps réel.</p>
    </div>
    <div class="status-badge"><i class="fas fa-bolt me-2"></i> ENGINE V2.4 ONLINE</div>
</div>

<div class="row g-4 mb-4">
    <div class="col-md-3">
        <div class="glass-card"><div class="kpi-title">Clients</div><div class="kpi-value">31,678</div></div>
    </div>
    <div class="col-md-3">
        <div class="glass-card"><div class="kpi-title text-danger">Alertes</div><div class="kpi-value">6,825</div></div>
    </div>
    <div class="col-md-3">
        <div class="glass-card"><div class="kpi-title text-success">Volume</div><div class="kpi-value">$306M</div></div>
    </div>
    <div class="col-md-3">
        <div class="glass-card"><div class="kpi-title text-info">Précision</div><div class="kpi-value">91.2%</div></div>
    </div>
</div>

<div class="row g-4">
    <div class="col-lg-8">
        <div class="glass-card">
            <h5 class="fw-bold mb-4 text-white">Inference Trend Analysis</h5>
            <div style="height: 350px;">
                <canvas id="riskTrendChart"></canvas>
            </div>
        </div>
    </div>

    <div class="col-lg-4">
        <div class="glass-card mb-4">
            <h6 class="fw-bold mb-4">System Integrity</h6>
            <div class="progress-container">
                <div class="progress-label"><span>Neural Engine Load</span><span>42%</span></div>
                <div class="progress"><div class="progress-bar bg-info" style="width: 42%"></div></div>
            </div>
            <div class="progress-container">
                <div class="progress-label"><span>VRAM Usage</span><span>68%</span></div>
                <div class="progress"><div class="progress-bar bg-purple-glow" style="width: 68%; background:#818cf8;"></div></div>
            </div>
            <div class="latency-card">
                <small class="text-dim d-block mb-1">AVG LATENCY</small>
                <span class="fw-bold fs-3" style="font-family: 'JetBrains Mono';">42ms</span>
            </div>
        </div>

        <div class="glass-card">
            <h6 class="fw-bold mb-3">Dernières Alertes</h6>
            <div class="alert-item">
                <div class="alert-dot bg-high"></div>
                <div class="small">Pattern suspect détecté <br><span class="text-dim">ID: #4829 - $12K</span></div>
            </div>
            <div class="alert-item">
                <div class="alert-dot bg-medium"></div>
                <div class="small">Dépassement limite DTI <br><span class="text-dim">Client: Ahmed B.</span></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>